<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors</title>
</head>
<body>
    <script>

        let globalPlayerScore = 0;
        let globalCompScore = 0;
        let globalTies = 0;
        const globalChoices = [
            "rock",
            "paper",
            "scissors"
        ];

        function computerPlay(){
            const randNum = Math.random();
            return globalChoices[Math.floor(globalChoices.length * randNum)];
        }

        function getWinner(playerChoice, compChoice){
            let playerWins;

            if (playerChoice == "rock" && compChoice == "paper"){
                playerWins = false;
            } else if (playerChoice == "rock" && compChoice == "scissors"){
                playerWins = true;
            } else if (playerChoice == "paper" && compChoice == "scissors"){
                playerWins = false;
            } else if (playerChoice == "paper" && compChoice == "rock"){
                playerWins = true;
            } else if (playerChoice == "scissors" && compChoice == "rock"){
                playerWins = false;
            } else if (playerChoice == "scissors" && compChoice == "paper"){
                playerWins = true;
            }
            return playerWins;
        }
        
        function playround(playerSelection, computerSelection){
            const playerChoiceClean = playerSelection.toLowerCase();
            const compChoiceClean = computerSelection.toLowerCase();
            let roundResult;

            if (playerSelection == computerSelection){
                globalTies += 1;
                roundResult = "Both players choose the same. The result is a tie.";
            } else {
                let playerWins = getWinner(playerChoiceClean, compChoiceClean);

                if(playerWins){
                    globalPlayerScore += 1;
                    roundResult = "You win! " + playerChoiceClean + " beats " + compChoiceClean;
                } else {
                    roundResult = "You Lose! " + compChoiceClean + " beats " + playerChoiceClean;
                    globalCompScore += 1;
                }
            }
            return roundResult;
        }

        function validChoice(choice){
            let cleanedChoice = choice.toLowerCase().trim();
            
            if(globalChoices.includes(cleanedChoice)){
                return true;
            } else {
                return false;
            }
        };
    </script>
</body>
</html>